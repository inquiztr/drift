{"version":3,"sources":["../src/js/ZoomPane.js"],"names":["throwIfMissing","addClasses","removeClasses","ZoomPane","options","HAS_ANIMATION","document","divStyle","createElement","style","_completeShow","bind","_completeHide","_handleLoad","isShowing","container","zoomFactor","inline","namespace","showWhitespaceAtEdges","containInline","inlineOffsetX","inlineOffsetY","inlineContainer","body","settings","openClasses","_buildClasses","openingClasses","closingClasses","inlineClasses","loadingClasses","_buildElement","suffix","classes","ns","push","el","loaderEl","appendChild","imgEl","imageURL","setAttribute","triggerWidth","triggerHeight","width","height","percentageOffsetX","percentageOffsetY","triggerRect","imgElWidth","offsetWidth","imgElHeight","offsetHeight","elWidth","elHeight","centreOfContainerX","centreOfContainerY","targetImgXToBeCentre","targetImgYToBeCentre","left","top","differenceBetweenContainerWidthAndImgWidth","differenceBetweenContainerHeightAndImgHeight","isContainerLargerThanImgX","isContainerLargerThanImgY","minLeft","minTop","maxLeft","maxTop","parentElement","scrollX","window","pageXOffset","scrollY","pageYOffset","inlineLeft","inlineTop","transform","webkitTransform","removeEventListener","_removeListenersAndResetClasses","getAttribute","addEventListener","_setImageURL","_setImageSize","_isInline","_showInline","_showInContainer","removeChild","innerWidth"],"mappings":"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","sourcesContent":["import throwIfMissing from \"./util/throwIfMissing\";\r\nimport { addClasses, removeClasses } from \"./util/dom\";\r\n\r\nexport default class ZoomPane {\r\n  constructor(options = {}) {\r\n    // All officially-supported browsers have this, but it's easy to\r\n    // account for, just in case.\r\n    this.HAS_ANIMATION = false;\r\n    if (typeof document !== \"undefined\") {\r\n      const divStyle = document.createElement(\"div\").style;\r\n      this.HAS_ANIMATION = \"animation\" in divStyle || \"webkitAnimation\" in divStyle;\r\n    }\r\n\r\n    this._completeShow = this._completeShow.bind(this);\r\n    this._completeHide = this._completeHide.bind(this);\r\n    this._handleLoad = this._handleLoad.bind(this);\r\n\r\n    this.isShowing = false;\r\n\r\n    const {\r\n      container = null,\r\n      zoomFactor = throwIfMissing(),\r\n      inline = throwIfMissing(),\r\n      namespace = null,\r\n      showWhitespaceAtEdges = throwIfMissing(),\r\n      containInline = throwIfMissing(),\r\n      inlineOffsetX = 0,\r\n      inlineOffsetY = 0,\r\n      inlineContainer = document.body,\r\n    } = options;\r\n\r\n    this.settings = {\r\n      container,\r\n      zoomFactor,\r\n      inline,\r\n      namespace,\r\n      showWhitespaceAtEdges,\r\n      containInline,\r\n      inlineOffsetX,\r\n      inlineOffsetY,\r\n      inlineContainer,\r\n    };\r\n\r\n    this.openClasses = this._buildClasses(\"open\");\r\n    this.openingClasses = this._buildClasses(\"opening\");\r\n    this.closingClasses = this._buildClasses(\"closing\");\r\n    this.inlineClasses = this._buildClasses(\"inline\");\r\n    this.loadingClasses = this._buildClasses(\"loading\");\r\n\r\n    this._buildElement();\r\n  }\r\n\r\n  _buildClasses(suffix) {\r\n    const classes = [`drift-${suffix}`];\r\n\r\n    const ns = this.settings.namespace;\r\n    if (ns) {\r\n      classes.push(`${ns}-${suffix}`);\r\n    }\r\n\r\n    return classes;\r\n  }\r\n\r\n  _buildElement() {\r\n    this.el = document.createElement(\"div\");\r\n    addClasses(this.el, this._buildClasses(\"zoom-pane\"));\r\n\r\n    const loaderEl = document.createElement(\"div\");\r\n    addClasses(loaderEl, this._buildClasses(\"zoom-pane-loader\"));\r\n    this.el.appendChild(loaderEl);\r\n\r\n    this.imgEl = document.createElement(\"img\");\r\n    this.el.appendChild(this.imgEl);\r\n  }\r\n\r\n  _setImageURL(imageURL) {\r\n    this.imgEl.setAttribute(\"src\", imageURL);\r\n  }\r\n\r\n  _setImageSize(triggerWidth, triggerHeight) {\r\n    this.imgEl.style.width = `${triggerWidth * this.settings.zoomFactor}px`;\r\n    this.imgEl.style.height = `${triggerWidth * .95 * this.settings.zoomFactor}px`;\r\n  }\r\n\r\n  // `percentageOffsetX` and `percentageOffsetY` must be percentages\r\n  // expressed as floats between `0' and `1`.\r\n  setPosition(percentageOffsetX, percentageOffsetY, triggerRect) {\r\n    const imgElWidth = this.imgEl.offsetWidth;\r\n    const imgElHeight = this.imgEl.offsetHeight;\r\n    const elWidth = this.el.offsetWidth;\r\n    const elHeight = this.el.offsetHeight;\r\n\r\n    const centreOfContainerX = elWidth / 2;\r\n    const centreOfContainerY = elHeight / 2;\r\n\r\n    const targetImgXToBeCentre = imgElWidth * percentageOffsetX;\r\n    const targetImgYToBeCentre = imgElHeight * percentageOffsetY;\r\n\r\n    let left = centreOfContainerX - targetImgXToBeCentre;\r\n    let top = centreOfContainerY - targetImgYToBeCentre;\r\n\r\n    const differenceBetweenContainerWidthAndImgWidth = elWidth - imgElWidth;\r\n    const differenceBetweenContainerHeightAndImgHeight = elHeight - imgElHeight;\r\n    const isContainerLargerThanImgX = differenceBetweenContainerWidthAndImgWidth > 0;\r\n    const isContainerLargerThanImgY = differenceBetweenContainerHeightAndImgHeight > 0;\r\n\r\n    const minLeft = isContainerLargerThanImgX ? differenceBetweenContainerWidthAndImgWidth / 2 : 0;\r\n    const minTop = isContainerLargerThanImgY ? differenceBetweenContainerHeightAndImgHeight / 2 : 0;\r\n\r\n    const maxLeft = isContainerLargerThanImgX\r\n      ? differenceBetweenContainerWidthAndImgWidth / 2\r\n      : differenceBetweenContainerWidthAndImgWidth;\r\n    const maxTop = isContainerLargerThanImgY\r\n      ? differenceBetweenContainerHeightAndImgHeight / 2\r\n      : differenceBetweenContainerHeightAndImgHeight;\r\n\r\n    if (this.el.parentElement === this.settings.inlineContainer) {\r\n      // This may be needed in the future to deal with browser event\r\n      // inconsistencies, but it's difficult to tell for sure.\r\n      // let scrollX = isTouch ? 0 : window.scrollX;\r\n      // let scrollY = isTouch ? 0 : window.scrollY;\r\n      const scrollX = window.pageXOffset;\r\n      const scrollY = window.pageYOffset;\r\n\r\n      let inlineLeft =\r\n        triggerRect.left + percentageOffsetX * triggerRect.width - elWidth / 2 + this.settings.inlineOffsetX + scrollX;\r\n      let inlineTop =\r\n        triggerRect.top + percentageOffsetY * triggerRect.height - elHeight / 2 + this.settings.inlineOffsetY + scrollY;\r\n\r\n      if (this.settings.containInline) {\r\n        if (inlineLeft < triggerRect.left + scrollX) {\r\n          inlineLeft = triggerRect.left + scrollX;\r\n        } else if (inlineLeft + elWidth > triggerRect.left + triggerRect.width + scrollX) {\r\n          inlineLeft = triggerRect.left + triggerRect.width - elWidth + scrollX;\r\n        }\r\n\r\n        if (inlineTop < triggerRect.top + scrollY) {\r\n          inlineTop = triggerRect.top + scrollY;\r\n        } else if (inlineTop + elHeight > triggerRect.top + triggerRect.height + scrollY) {\r\n          inlineTop = triggerRect.top + triggerRect.height - elHeight + scrollY;\r\n        }\r\n      }\r\n\r\n      this.el.style.left = `${inlineLeft}px`;\r\n      this.el.style.top = `${inlineTop}px`;\r\n    }\r\n\r\n    if (!this.settings.showWhitespaceAtEdges) {\r\n      if (left > minLeft) {\r\n        left = minLeft;\r\n      } else if (left < maxLeft) {\r\n        left = maxLeft;\r\n      }\r\n\r\n      if (top > minTop) {\r\n        top = minTop;\r\n      } else if (top < maxTop) {\r\n        top = maxTop;\r\n      }\r\n    }\r\n\r\n    this.imgEl.style.transform = `translate(${left}px, ${top}px)`;\r\n    this.imgEl.style.webkitTransform = `translate(${left}px, ${top}px)`;\r\n  }\r\n\r\n  get _isInline() {\r\n    const inline = this.settings.inline;\r\n\r\n    return inline === true || (typeof inline === \"number\" && window.innerWidth <= inline);\r\n  }\r\n\r\n  _removeListenersAndResetClasses() {\r\n    this.el.removeEventListener(\"animationend\", this._completeShow, false);\r\n    this.el.removeEventListener(\"animationend\", this._completeHide, false);\r\n    this.el.removeEventListener(\"webkitAnimationEnd\", this._completeShow, false);\r\n    this.el.removeEventListener(\"webkitAnimationEnd\", this._completeHide, false);\r\n    removeClasses(this.el, this.openClasses);\r\n    removeClasses(this.el, this.closingClasses);\r\n  }\r\n\r\n  show(imageURL, triggerWidth, triggerHeight) {\r\n    this._removeListenersAndResetClasses();\r\n    this.isShowing = true;\r\n\r\n    addClasses(this.el, this.openClasses);\r\n\r\n    if (this.imgEl.getAttribute(\"src\") != imageURL) {\r\n      addClasses(this.el, this.loadingClasses);\r\n      this.imgEl.addEventListener(\"load\", this._handleLoad, false);\r\n      this._setImageURL(imageURL);\r\n    }\r\n\r\n    this._setImageSize(triggerWidth, triggerHeight);\r\n\r\n    if (this._isInline) {\r\n      this._showInline();\r\n    } else {\r\n      this._showInContainer();\r\n    }\r\n\r\n    if (this.HAS_ANIMATION) {\r\n      this.el.addEventListener(\"animationend\", this._completeShow, false);\r\n      this.el.addEventListener(\"webkitAnimationEnd\", this._completeShow, false);\r\n      addClasses(this.el, this.openingClasses);\r\n    }\r\n  }\r\n\r\n  _showInline() {\r\n    this.settings.inlineContainer.appendChild(this.el);\r\n    addClasses(this.el, this.inlineClasses);\r\n  }\r\n\r\n  _showInContainer() {\r\n    this.settings.container.appendChild(this.el);\r\n  }\r\n\r\n  hide() {\r\n    this._removeListenersAndResetClasses();\r\n    this.isShowing = false;\r\n\r\n    if (this.HAS_ANIMATION) {\r\n      this.el.addEventListener(\"animationend\", this._completeHide, false);\r\n      this.el.addEventListener(\"webkitAnimationEnd\", this._completeHide, false);\r\n      addClasses(this.el, this.closingClasses);\r\n    } else {\r\n      removeClasses(this.el, this.openClasses);\r\n      removeClasses(this.el, this.inlineClasses);\r\n    }\r\n  }\r\n\r\n  _completeShow() {\r\n    this.el.removeEventListener(\"animationend\", this._completeShow, false);\r\n    this.el.removeEventListener(\"webkitAnimationEnd\", this._completeShow, false);\r\n\r\n    removeClasses(this.el, this.openingClasses);\r\n  }\r\n\r\n  _completeHide() {\r\n    this.el.removeEventListener(\"animationend\", this._completeHide, false);\r\n    this.el.removeEventListener(\"webkitAnimationEnd\", this._completeHide, false);\r\n\r\n    removeClasses(this.el, this.openClasses);\r\n    removeClasses(this.el, this.closingClasses);\r\n    removeClasses(this.el, this.inlineClasses);\r\n\r\n    this.el.style.left = \"\";\r\n    this.el.style.top = \"\";\r\n\r\n    // The window could have been resized above or below `inline`\r\n    // limits since the ZoomPane was shown. Because of this, we\r\n    // can't rely on `this._isInline` here.\r\n    if (this.el.parentElement === this.settings.container) {\r\n      this.settings.container.removeChild(this.el);\r\n    } else if (this.el.parentElement === this.settings.inlineContainer) {\r\n      this.settings.inlineContainer.removeChild(this.el);\r\n    }\r\n  }\r\n\r\n  _handleLoad() {\r\n    this.imgEl.removeEventListener(\"load\", this._handleLoad, false);\r\n    removeClasses(this.el, this.loadingClasses);\r\n  }\r\n}\r\n"],"file":"ZoomPane.js"}